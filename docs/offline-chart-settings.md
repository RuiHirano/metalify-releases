# 複数のチャートを表示する

複数のチャートを表示することで、より多くの情報を取得し、トレードの精度を向上させることができます。Metalifyでは、最大で4つのチャートを同時に表示することができます。

## EAの入力パラメーターの設定

### エキスパート設定画面を開く
ストラテジーテスターの設定画面で「エキスパート設定」ボタンをクリックすると、EAの入力パラメーターを設定する画面が表示されます。

![AltText {priority}{768x432}](/img/expert_settings.png)

### EAの入力パラメーターを入力する

MetalifyのEAを使用する際、最適なバックテストの結果を得るためには、入力パラメーターの設定が重要です。以下のテーブルにEAの入力パラメーターを一覧化しました。一度のバックテストで同期できるチャートは最大で3つとなり、メインチャートと合わせて**合計4つのチャート**を同時に確認することができます。

| パラメーター名 | 説明 | 型 | 初期値 |
| :---- | :---- | :---- | :---- |
| **Maximum Allowed Slippage** | 注文時の最大許容スリッページ | 数値 | 20 |
| **Auto Open Offline Charts** | オフラインチャートを自動で開くかどうか | true/false | true |
| **Offline Chart1 Flag** | 1つ目の同期チャートを作成するかどうか | true/false | false |
| **Offline Chart1 Period** | 1つ目の同期チャートの期間 | Period | H1 |
| **Offline Chart2 Flag** | 2つ目の同期チャートを作成するかどうか | true/false | false |
| **Offline Chart2 Period** | 2つ目の同期チャートの期間 | Period | H4 |
| **Offline Chart3 Flag** | 3つ目の同期チャートを作成するかどうか | true/false | false |
| **Offline Chart3 Period** | 3つ目の同期チャートの期間 | Period | D1 |


> [!CAUTION]
> **ストラテジーテスターで実行するメインチャートの時間足と同じ時間足を指定しないでください。** 
>
> 同じ時間足を指定すると、EAが正しく動作しない場合があります。例として、ストラテジーテスターでメインチャートの時間足を1時間足に設定した場合、同期チャートの時間足は**1時間足以外の時間足**を指定してください。

![AltText {priority}{768x432}](/img/mt4_ea_settings.png)

> [!NOTE]
>上記の画像では、以下の設定がされています。
>- Maximum Allowed Slippage：20
>- Auto Open Offline Charts：true (オフラインチャートを自動で開く)
>- Offline Chart1 Flag：true (一つ目のオフラインチャートを生成する)
>- Offline Chart1 Period：1 Hour (一つ目のオフラインチャートの時間足を1時間足に設定する)
>- Offline Chart2 Flag：true (二つ目のオフラインチャートを生成する)
>- Offline Chart2 Period：4 Hours (二つ目のオフラインチャートの時間足を4時間足に設定する)
>- Offline Chart3 Flag： true (三つ目のオフラインチャートを生成する)
>- Offline Chart3 Period：1 Day (三つ目のオフラインチャートの時間足を日足に設定する)

### オフラインチャートを開く
同期チャートをTrueにした場合、バックテストの開始時(ヒストリーデータ処理後)に「-MTLF」の接尾辞がついたオフラインチャートデータが生成されます。

**Auto Open Offline Charts**パラメータが**true**（デフォルト）の場合、オフラインチャートは自動的に開かれます。手動で開きたい場合は、このパラメータを**false**に設定してください。

手動でオフラインチャートを開くには、
1. ストラテジーテスターの「スタート」をクリックし、バックテストを開始します。
1. MT4のメニューから「ファイル」->「オフラインチャートを開く」を選択し、オフラインチャート一覧を表示します。
2. 生成したオフラインチャートの期間に「-MTLF」の接尾辞がついたファイルを開きます。
3. オフラインチャートが表示され、メインチャートに同期して動くことを確認します。

> [!TIP]
> USDJPYの1時間足のオフラインチャートを生成した場合、ファイル名は「**USDJPY-MTLF,H1**」になります。

![AltText {priority}{768x432}](/img/offline_chart_folder.png)

> [!NOTE]
> オフラインチャートが生成されていない場合や、設定方法がわからない場合は、お手数ですがお問い合わせをお願いします。

オフラインチャートの動作確認ができましたら、次に、Metalify操作パネルを用いて、バックテストの再生や注文を行う方法をご紹介します。[**操作パネルの使い方**](/docs/control-panel)を参照してください。
