# オフラインチャートが表示されません

オフラインチャートが生成されない現象は、お問い合わせいただいた内容によって原因が異なります。以下の手順に従って、原因を特定してください。

## 1. 設定の確認
以下のドキュメントを参考にストラテジーテスターおよび、エキスパート設定が正しく行われているか確認してください。

- [ストラテジーテスターの設定](/docs/ea-parameters)
- [複数のチャートを表示する](/docs/offline-chart-settings)

## 2. イベントログの確認
イベントログからエラーメッセージを確認してください。

「オフラインチャートのデータが不足しています」というエラーの場合は、オフラインチャートの元になるデータが不足している可能性があります。4.に進んで、該当の期間のヒストリーファイルが存在するか確認してください。

![AltText {priority}{768x432}](/img/eventlog-error-offline-history-insufficient.png)

## 3. 操作履歴の確認



### 「no history data '通貨ペア名'」というエラーが表示されている場合
操作履歴に以下のようなエラーメッセージが表示されている場合、ストラテジーテスターに設定した、メインチャートの時間足のヒストリーデータが存在していない可能性があります。4.に進んで、該当の期間のヒストリーファイルが存在するか確認してください。

~~~none
🛑 TestGenerator: no history data 'EURJPY-15' from 2024.05.01 to 2024.06.01
~~~

> [!TIP]
> 当該エラーが発生した場合、イベントログにも「オフラインチャートの生成に失敗しました。」というエラーが表示されるかと思います。


### エラーが表示されていない場合
エラーが表示されず、イベントログに「オフラインチャートが生成されました」と表示されている場合、エキスパート設定の設定ミスやオフラインチャートファイルの見落としなどが考えられます。以下の手順を確認してください。
- エキスパート設定において、オフラインチャートのflagがtrueになっているか確認してください。
- 再度、テスターをスタートし、オフラインチャート一覧画面に「MTLF」ファイルが生成されているか確認してください。

## 4. 該当期間のヒストリーファイルの確認方法

MT4上部のメニューバーにある「ファイル」から「オフラインチャート」をクリックしてください

該当の通貨ペアと期間のヒストリーデータが存在するか確認してください。

![AltText {priority}{768x432}](/img/offline_chart_no_history_data.png)


> [!TIP]
> 上記の画像の場合、データの存在しない「USDJPY,D1」や、期間の不足している「USDJPY,H1, 2022.01.01 ~ 2022.02.01」等でテスターを実行すると、オフラインチャートが生成されず、エラーが発生します。


ヒストリーデータが存在しない場合、ヒストリーデータをダウンロードすることで解決する可能性があります。詳細は「[ヒストリーデータをダウンロードする](/docs/download-history-data)」を参照してください。


## 5. それでも解決しない場合
上記手順を確認しても解決しない場合、お手数ですが[お問い合わせ](/support/contact)ページからご連絡ください。必ず解決いたしますことをお約束できるわけではございませんが、可能な限りのサポートをさせていただきます。

> [!NOTE]
> お問い合わせの際は以下の情報をいただけますと、よりスムーズに対応できます。
> - テスターの設定画面のスクリーンショット
> - エキスパート設定画面のスクリーンショット
> - オフラインチャート一覧画面のスクリーンショット
> - Metalify操作パネルの上部にあるイベントログ画面
> - テスターの下部にある「操作履歴」タブのスクリーンショット
>
> (スクリーンショットはスマートフォンで撮影された画像で問題ありません。)
