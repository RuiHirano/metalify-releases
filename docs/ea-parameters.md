# MetalifyEAの入力設定を行う

## ストラテジーテスターの設定
ストラテジーテスターでは、以下の設定を行ってください。

### ストラテジーテスターを開く
MT4左上メニューの「表示」->「ストラテジーテスター」を選択してください。

### 1. MetalifyEAを選択する
EA選択ボタンから「MetalifyEA.ex4」を選択してください。

![AltText {priority}{768x432}](/img/setting_ea.png)

### 2. バックテストしたい通貨ペアを選択する
通貨ペア選択ボタンからバックテストしたい通貨ペアを選択してください。

![AltText {priority}{768x432}](/img/setting_symbol.png)

### 3. メインとなるチャートの時間足を選択する
ストラテジーテスターのメインチャートの時間足を選択してください。EAの入力パラメータでそのほかの時間足のチャートと同期できます。

細かな値動きを用いてトレードする場合、使用する時間足の中で最も短い時間足を選択することをおすすめします。例として、4時間足と1時間足と15分足のチャートを使用する場合、メインチャートの時間足は15分足を選択してください。

![AltText {priority}{768x432}](/img/setting_period.png)

### 4. バックテストの期間を設定する
任意の期間で構いませんが、一週間や一ヶ月などの短い期間でバックテストを行うことをおすすめします。
設定した期間のヒストリーデータがない場合、エラーが発生します。ヒストリーデータの期間内であることを確認してください。

![AltText {priority}{768x432}](/img/setting_date.png)

> [!TIP]
> **推奨：最初はヒストリーデータが存在する直近一ヶ月の期間を設定し試してみてください。**

> [!NOTE]
> **期間の設定項目が見つからない場合、設定項目がテスターの下部に隠れている可能性があります**。テスター画面を上部に拡張すると表示されます。

### 5. Spreadを指定する
Spreadの設定では、固定値で指定することをお勧めします。SpreadをCurrentに設定すると、土日にバックテストした場合に大きなSpreadとなり、注文が約定しない可能性があります。

![AltText {priority}{768x432}](/img/setting_spread.png)

### 6. ビジュアルモードをONにする
ビジュアルモードはONにする必要があります。OFFにすると、エラーになります。

![AltText {priority}{768x432}](/img/setting_visual_mode.png)

> [!NOTE]
> **ビジュアルモードの設定項目が見つからない場合、設定項目がテスターの表示部分に隠れている可能性があります**。表示部分をスクロールするか画面拡張してみてください。

### 7. 再生速度を最大にする
Metalify操作パネル上で速度調整や再生/停止できるため、テスターの再生速度は最大にしておくことをお勧めします。

![AltText {priority}{768x432}](/img/setting_speed.png)

### 8. 最適化モードをOFFにする
最適化モードはOFFにする必要があります。ONにすると、エラーになります。

![AltText {priority}{768x432}](/img/setting_optimization.png)


### 注意

> [!CAUTION]
> ストラテジーテスターの設定では以下の項目が正しく設定されていない場合、EAが動作しない場合があります。実行前に再度確認してください。
> 1. **ビジュアルモードがONであること**
> 2. **最適化モードがOFFであること**
> 3. **期間が設定されていること**


ストラテジーテスターの設定ができましたら、次に、複数の時間足のチャートを表示させる設定をしましょう。[**複数のチャートを表示する**](/docs/offline-chart-settings)から、ご覧いただけます。