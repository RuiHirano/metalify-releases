# テスター設定ガイド

このドキュメントでは、MetalifyEAの入力設定、ストラテジーテスターの設定、ヒストリカルデータの準備、複数チャートの表示設定、トラブルシューティングまでをまとめています。

## 目次

1. [MetalifyEAの入力設定を行う](#metalifyeaの入力設定を行う)
2. [複数のチャートを表示する](#複数のチャートを表示する)
3. [ヒストリカルデータをダウンロードする](#ヒストリカルデータをダウンロードする)
4. [ヒストリカルデータを生成する（オプション）](#ヒストリカルデータを生成するオプション)
5. [トラブルシューティング](#トラブルシューティング)

---

## MetalifyEAの入力設定を行う

### ストラテジーテスターの設定

ストラテジーテスターでは、以下の設定を行ってください。

#### ストラテジーテスターを開く

MT4左上メニューの「表示」->「ストラテジーテスター」を選択してください。

#### 1. MetalifyEAを選択する

EA選択ボタンから「MetalifyEA.ex4」を選択してください。

![AltText {priority}{768x432}](/img/setting_ea.png)

#### 2. バックテストしたい通貨ペアを選択する

通貨ペア選択ボタンからバックテストしたい通貨ペアを選択してください。

![AltText {priority}{768x432}](/img/setting_symbol.png)

#### 3. メインとなるチャートの時間足を選択する

ストラテジーテスターのメインチャートの時間足を選択してください。EAの入力パラメータでそのほかの時間足のチャートと同期できます。

細かな値動きを用いてトレードする場合、使用する時間足の中で最も短い時間足を選択することをおすすめします。例として、4時間足と1時間足と15分足のチャートを使用する場合、メインチャートの時間足は15分足を選択してください。

![AltText {priority}{768x432}](/img/setting_period.png)

#### 4. バックテストの期間を設定する

任意の期間で構いませんが、一週間や一ヶ月などの短い期間でバックテストを行うことをおすすめします。
設定した期間のヒストリーデータがない場合、エラーが発生します。ヒストリーデータの期間内であることを確認してください。

![AltText {priority}{768x432}](/img/setting_date.png)

> [!TIP]
> **推奨：最初はヒストリーデータが存在する直近一ヶ月の期間を設定し試してみてください。**

> [!NOTE]
> **期間の設定項目が見つからない場合、設定項目がテスターの下部に隠れている可能性があります**。テスター画面を上部に拡張すると表示されます。

#### 5. Spreadを指定する

Spreadの設定では、固定値で指定することをお勧めします。SpreadをCurrentに設定すると、土日にバックテストした場合に大きなSpreadとなり、注文が約定しない可能性があります。

![AltText {priority}{768x432}](/img/setting_spread.png)

#### 6. ビジュアルモードをONにする

ビジュアルモードはONにする必要があります。OFFにすると、エラーになります。

![AltText {priority}{768x432}](/img/setting_visual_mode.png)

> [!NOTE]
> **ビジュアルモードの設定項目が見つからない場合、設定項目がテスターの表示部分に隠れている可能性があります**。表示部分をスクロールするか画面拡張してみてください。

#### 7. 再生速度を最大にする

Metalify操作パネル上で速度調整や再生/停止できるため、テスターの再生速度は最大にしておくことをお勧めします。

![AltText {priority}{768x432}](/img/setting_speed.png)

#### 8. 最適化モードをOFFにする

最適化モードはOFFにする必要があります。ONにすると、エラーになります。

![AltText {priority}{768x432}](/img/setting_optimization.png)

#### 注意

> [!CAUTION]
> ストラテジーテスターの設定では以下の項目が正しく設定されていない場合、EAが動作しない場合があります。実行前に再度確認してください。
> 1. **ビジュアルモードがONであること**
> 2. **最適化モードがOFFであること**
> 3. **期間が設定されていること**

---

## 複数のチャートを表示する

複数のチャートを表示することで、より多くの情報を取得し、トレードの精度を向上させることができます。Metalifyでは、最大で4つのチャートを同時に表示することができます。

### EAの入力パラメーターの設定

#### エキスパート設定画面を開く

ストラテジーテスターの設定画面で「エキスパート設定」ボタンをクリックすると、EAの入力パラメーターを設定する画面が表示されます。

![AltText {priority}{768x432}](/img/expert_settings.png)

#### EAの入力パラメーターを入力する

MetalifyのEAを使用する際、最適なバックテストの結果を得るためには、入力パラメーターの設定が重要です。以下のテーブルにEAの入力パラメーターを一覧化しました。一度のバックテストで同期できるチャートは最大で3つとなり、メインチャートと合わせて**合計4つのチャート**を同時に確認することができます。

| パラメーター名 | 説明 | 型 | 初期値 |
| :---- | :---- | :---- | :---- |
| **Maximum Allowed Slippage** | 注文時の最大許容スリッページ | 数値 | 20 |
| **Auto Open Offline Charts** | オフラインチャートを自動で開くかどうか | true/false | true |
| **Offline Chart1 Flag** | 1つ目の同期チャートを作成するかどうか | true/false | false |
| **Offline Chart1 Period** | 1つ目の同期チャートの期間 | Period | H1 |
| **Offline Chart2 Flag** | 2つ目の同期チャートを作成するかどうか | true/false | false |
| **Offline Chart2 Period** | 2つ目の同期チャートの期間 | Period | H4 |
| **Offline Chart3 Flag** | 3つ目の同期チャートを作成するかどうか | true/false | false |
| **Offline Chart3 Period** | 3つ目の同期チャートの期間 | Period | D1 |

> [!CAUTION]
> **ストラテジーテスターで実行するメインチャートの時間足と同じ時間足を指定しないでください。**
>
> 同じ時間足を指定すると、EAが正しく動作しない場合があります。例として、ストラテジーテスターでメインチャートの時間足を1時間足に設定した場合、同期チャートの時間足は**1時間足以外の時間足**を指定してください。

![AltText {priority}{768x432}](/img/mt4_ea_settings.png)

> [!NOTE]
>上記の画像では、以下の設定がされています。
>- Maximum Allowed Slippage：20
>- Auto Open Offline Charts：true (オフラインチャートを自動で開く)
>- Offline Chart1 Flag：true (一つ目のオフラインチャートを生成する)
>- Offline Chart1 Period：1 Hour (一つ目のオフラインチャートの時間足を1時間足に設定する)
>- Offline Chart2 Flag：true (二つ目のオフラインチャートを生成する)
>- Offline Chart2 Period：4 Hours (二つ目のオフラインチャートの時間足を4時間足に設定する)
>- Offline Chart3 Flag： true (三つ目のオフラインチャートを生成する)
>- Offline Chart3 Period：1 Day (三つ目のオフラインチャートの時間足を日足に設定する)

### オフラインチャートを開く

同期チャートをTrueにした場合、バックテストの開始時(ヒストリーデータ処理後)に「-MTLF」の接尾辞がついたオフラインチャートデータが生成されます。

**Auto Open Offline Charts**パラメータが**true**（デフォルト）の場合、オフラインチャートは自動的に開かれます。手動で開きたい場合は、このパラメータを**false**に設定してください。

手動でオフラインチャートを開くには、
1. ストラテジーテスターの「スタート」をクリックし、バックテストを開始します。
1. MT4のメニューから「ファイル」->「オフラインチャートを開く」を選択し、オフラインチャート一覧を表示します。
2. 生成したオフラインチャートの期間に「-MTLF」の接尾辞がついたファイルを開きます。
3. オフラインチャートが表示され、メインチャートに同期して動くことを確認します。

> [!TIP]
> USDJPYの1時間足のオフラインチャートを生成した場合、ファイル名は「**USDJPY-MTLF,H1**」になります。

![AltText {priority}{768x432}](/img/offline_chart_folder.png)

> [!NOTE]
> オフラインチャートが生成されていない場合や、設定方法がわからない場合は、お手数ですがお問い合わせをお願いします。

---

## ヒストリカルデータをダウンロードする

ヒストリカルデータは下記の手順でダウンロードできます。

1. MT4の設定を変更し、保存できるデータ数を増やす
2. ヒストリカルデータのダウンロード

以下の外部リンクもご参考にしてください。

[MT4便利機能①　ヒストリーデータをダウンロードする方法](https://www.gaitamefinest.com/mt4_convenient_function_list_post1)

[FXDDのヒストリカルデータを取得する方法と手順](https://gemgemfx.com/fxdd-historical-data/)

> [!NOTE]
> 今回の手順でダウンロードできるのはMetaQuotes社のデータのみですので予めご了承ください。

### 1. MT4の設定を変更し、保存できるデータ数を増やす

1. MT4の「ツール」→「オプション」をクリックします。
2. 「オプション」ウィンドウで「チャート」を選び、「ヒストリー内の最大バー数」と「チャート内の最大バー数」を9999、、、、、と「9」で満たし「OK」をクリックします。

![AltText {priority}{768x432}](/img/option_history_bar_change.png)

続いて、ヒストリーセンターからデータをダウンロードします。

### 2. ヒストリカルデータのダウンロード

1. MT4上の「ツール」から「ヒストリーセンター」をクリックします。

2. 「ヒストリーセンターウィンドウ」が開くので、「Group 1」または「Group 2」をクリックして展開します。
展開した「Group 1」「Group 2」内に通貨ペア一覧が表示されるので、必要な通貨ペアをダブルクリックして時間足一覧を表示させます。
時間足を選んだ状態で「ダウンロード」をクリックします。

3. 次に"「ダウンロードされたヒストリーデータは、トレードサーバーに保存されたデータとは違います。そのため、これらのデータは、"Gaitame Finest Company Limited"の過去の価格と合致しません。それでも続ける場合はOKを押して下さい。」と聞かれますので、「OK」をクリックします。

4. クリックするとダウンロードが始まり、緑のバーが右に伸びていきます。
(ダウンロードが完了するまでしばらくお待ちください）
バーが右端まで到達したら、ダウンロード終了です。

![AltText {priority}{768x432}](/img/history_download.png)

MT4を再起動(一旦右上の「×」でMT4を終了し、再度MT4を開く)すると、ダウンロードしたデータがチャートで表示される状態になります。

---

## ヒストリカルデータを生成する（オプション）

ヒストリカルデータ生成機能は、Axioryの1分足（M1）データをもとに、MT4オフラインチャート用のヒストリカルデータ（HSTファイル）を自動生成する機能です。

### 概要

この機能では以下の作業を自動で行います：

1. AxioryのM1ヒストリカルデータをクラウドからダウンロード
2. 指定した時間足（M5、M15、H1など）に自動集約
3. MT4のオフラインチャートで使用できるHSTファイルを生成
4. MT4の履歴フォルダに自動配置

> [!NOTE]
> データの品質や正確性はAxioryの提供データに依存します。

### 前提条件

ヒストリカルデータを生成する前に、以下の設定が必要です：

#### MT4データフォルダの設定

1. Metalify Controllerアプリで右上のメニューから「設定」を開きます
2. 「MT4データフォルダ設定」にMT4のデータフォルダパスを入力します
   - MT4の「ファイル」→「データフォルダを開く」から確認できます
   - 例：`C:\Users\YourName\AppData\Roaming\MetaQuotes\Terminal\xxxxx`

![AltText {priority}{768x432}](/img/app_settings.ja.png)

> [!WARNING]
> MT4データフォルダが未設定の場合、ヒストリカルデータ生成ダイアログに警告が表示され、生成ができません。

### 使い方

#### 1. ヒストリカルデータ生成ダイアログを開く

Metalify Controllerアプリの右上メニューから「ヒストリカルデータ生成」をクリックします。

![AltText {priority}{768x432}](/img/historical-data-open-dialog.ja.png)

#### 2. サーバー名を選択

MT4サーバー名を選択または入力します。

- ドロップダウンリストから既存のサーバー名を選択できます
- リストにない場合は手動で入力することもできます
- 例：`Default`, `FXDD-MT4 Demo Server`, `Axiory-Demo`

![AltText {priority}{768x432}](/img/historical-data-server-select.ja.png)

> [!TIP]
> サーバー名は、生成されるHSTファイルの保存先を決定します。MT4で使用しているサーバー名と一致させてください。

#### 3. 通貨ペア（シンボル）を選択

ドロップダウンから通貨ペアを選択します。

利用可能な通貨ペア：

- **メジャー通貨ペア**：EURUSD、USDJPY、GBPUSD、USDCHFなど
- **クロス通貨ペア**：EURJPY、GBPJPY、AUDJPY、EURGBPなど
- **貴金属**：XAUUSD（金）、XAGUSD（銀）

![AltText {priority}{768x432}](/img/historical-data-symbol-select.ja.png)

#### 4. 期間を設定

データをダウンロードする期間を指定します。

- **開始年**：2015年〜2025年から選択
- **終了年**：2015年〜2025年から選択

例：2020年から2025年のデータが必要な場合

- 開始年：2020
- 終了年：2025

![AltText {priority}{768x432}](/img/historical-data-period-select.ja.png)

> [!NOTE]
> 期間が長いほど、ダウンロードと生成に時間がかかります。

#### 5. 生成する時間足を選択

生成したい時間足にチェックを入れます。

利用可能な時間足：

- M1（1分足）
- M5（5分足）
- M15（15分足）
- M30（30分足）
- H1（1時間足）
- H4（4時間足）
- D1（日足）
- W1（週足）
- MN1（月足）

便利な機能：

- 「すべて選択」：全ての時間足を一括選択
- 「すべて解除」：全ての選択を一括解除

![AltText {priority}{768x432}](/img/historical-data-timeframe-select.ja.png)

> [!TIP]
> バックテストで使用する時間足のみを選択することで、生成時間を短縮できます。

#### 6. 生成を開始

「生成」ボタンをクリックすると、ヒストリカルデータの生成が開始されます。

生成中は青色の進行中メッセージが表示されます。

#### 7. 生成完了

生成が完了すると、緑色の成功メッセージが表示されます。

- 生成されたHSTファイルの一覧が表示されます
- 「履歴フォルダを開く」ボタンをクリックすると、生成されたファイルの保存場所が開きます

![AltText {priority}{768x432}](/img/historical-data-success.ja.png)

### 生成されるファイル

ヒストリカルデータは以下のパスに保存されます：

```
[MT4データフォルダ]/history/[サーバー名]/[シンボル]-GEN[時間足].hst
```

例：

- サーバー名：`Default`
- シンボル：`EURUSD`
- 時間足：M5、H1、D1を選択

生成されるファイル：

```
C:\Users\YourName\AppData\Roaming\MetaQuotes\Terminal\xxxxx\history\Default\EURUSD-GENM5.hst
C:\Users\YourName\AppData\Roaming\MetaQuotes\Terminal\xxxxx\history\Default\EURUSD-GENH1.hst
C:\Users\YourName\AppData\Roaming\MetaQuotes\Terminal\xxxxx\history\Default\EURUSD-GEND1.hst
```

> [!NOTE]
> シンボル名に`-GEN`サフィックスが自動的に追加されます。

---

## トラブルシューティング

### 一般的なエラーとトラブルシューティング

#### イベントログの確認方法

エラーが発生すると、基本的にイベントログにエラーメッセージが表示されます。エラーメッセージを確認し、原因を特定してください。

##### 1. イベントログの表示

Metalifyの操作パネルの上部にある「イベントログ」ボタンをクリックすると、イベントログが表示されます。エラーメッセージはこちらに表示されます。
![AltText {priority}{768x432}](/img/eventlog-error-control-panel.png)

##### 2. イベントログのエラーメッセージを確認

エラーメッセージを確認し、原因を特定してください。エラーメッセージの内容によって、対処方法が異なります。

![AltText {priority}{768x432}](/img/eventlog-error-eventlog-screen.png)

##### 3. エラーメッセージの詳細を確認

エラーメッセージの右側にある「詳細」ボタンをクリックすると、エラーメッセージの詳細を確認できます。詳細を確認し、対処方法を特定してください。
![AltText {priority}{768x432}](/img/eventlog-error-detail.png)

#### エラーメッセージと対処方法

##### EAがビジュアルモードで実行されていません

エキスパートアドバイザー（EA）がビジュアルモードで実行されていない場合、このエラーメッセージが表示されます。以下の手順でビジュアルモードをONにしてください。

1. ストラテジーテスターの設定画面を開く
2. ビジュアルモードがOFFになっている場合、ONに切り替える
3. テストを再度実行する

![AltText {priority}{768x432}](/img/eventlog-error-eventlog-screen.png)

##### EAの最適化を無効にしてください

エキスパートアドバイザー（EA）の最適化が有効になっている場合、このエラーメッセージが表示されます。以下の手順で最適化を無効にしてください。

1. ストラテジーテスターの設定画面を開く
2. 最適化モードがONになっている場合、OFFに切り替える
3. テストを再度実行する

![AltText {priority}{768x432}](/img/eventlog-error-ea-optimization-invalid.png)

##### オフラインチャートの時間足が重複しています

ストラテジーテスターのメインチャートの時間足とオフラインチャートの時間足が重複している場合、このエラーメッセージが表示されます。以下の手順で時間足を修正してください。

1. ストラテジーテスターのエキスパート設定画面を開く
2. メインチャートと時間足が重複している箇所のflagをfalseにする、もしくは時間足を変更する
3. テストを再度実行する

![AltText {priority}{768x432}](/img/eventlog-error-period-duplicate.png)

##### オフラインチャートのデータが不足しています

オフラインチャートのデータが不足している場合、このエラーメッセージが表示されます。

対応方法については、下記の「オフラインチャートが表示されません」を参照してください。

![AltText {priority}{768x432}](/img/eventlog-error-offline-history-insufficient.png)

---

### オフラインチャートが表示されません

オフラインチャートが生成されない現象は、お問い合わせいただいた内容によって原因が異なります。以下の手順に従って、原因を特定してください。

#### 1. 設定の確認

上記の「MetalifyEAの入力設定を行う」および「複数のチャートを表示する」を参考にストラテジーテスターおよび、エキスパート設定が正しく行われているか確認してください。

#### 2. イベントログの確認

イベントログからエラーメッセージを確認してください。

「オフラインチャートのデータが不足しています」というエラーの場合は、オフラインチャートの元になるデータが不足している可能性があります。下記の「該当期間のヒストリーファイルの確認方法」に進んで、該当の期間のヒストリーファイルが存在するか確認してください。

![AltText {priority}{768x432}](/img/eventlog-error-offline-history-insufficient.png)

#### 3. 操作履歴の確認

##### 「no history data '通貨ペア名'」というエラーが表示されている場合

操作履歴に以下のようなエラーメッセージが表示されている場合、ストラテジーテスターに設定した、メインチャートの時間足のヒストリーデータが存在していない可能性があります。下記の「該当期間のヒストリーファイルの確認方法」に進んで、該当の期間のヒストリーファイルが存在するか確認してください。

```
🛑 TestGenerator: no history data 'EURJPY-15' from 2024.05.01 to 2024.06.01
```

> [!TIP]
> 当該エラーが発生した場合、イベントログにも「オフラインチャートの生成に失敗しました。」というエラーが表示されるかと思います。

##### エラーが表示されていない場合

エラーが表示されず、イベントログに「オフラインチャートが生成されました」と表示されている場合、エキスパート設定の設定ミスやオフラインチャートファイルの見落としなどが考えられます。以下の手順を確認してください。
- エキスパート設定において、オフラインチャートのflagがtrueになっているか確認してください。
- 再度、テスターをスタートし、オフラインチャート一覧画面に「MTLF」ファイルが生成されているか確認してください。

#### 4. 該当期間のヒストリーファイルの確認方法

MT4上部のメニューバーにある「ファイル」から「オフラインチャート」をクリックしてください

該当の通貨ペアと期間のヒストリーデータが存在するか確認してください。

![AltText {priority}{768x432}](/img/offline_chart_no_history_data.png)

> [!TIP]
> 上記の画像の場合、データの存在しない「USDJPY,D1」や、期間の不足している「USDJPY,H1, 2022.01.01 ~ 2022.02.01」等でテスターを実行すると、オフラインチャートが生成されず、エラーが発生します。

ヒストリーデータが存在しない場合、ヒストリーデータをダウンロードすることで解決する可能性があります。詳細は上記の「ヒストリーデータをダウンロードする」を参照してください。

#### 5. それでも解決しない場合

上記手順を確認しても解決しない場合、お手数ですが[お問い合わせ](/support/contact)ページからご連絡ください。必ず解決いたしますことをお約束できるわけではございませんが、可能な限りのサポートをさせていただきます。

> [!NOTE]
> お問い合わせの際は以下の情報をいただけますと、よりスムーズに対応できます。
> - テスターの設定画面のスクリーンショット
> - エキスパート設定画面のスクリーンショット
> - オフラインチャート一覧画面のスクリーンショット
> - Metalify操作パネルの上部にあるイベントログ画面
> - テスターの下部にある「操作履歴」タブのスクリーンショット
>
> (スクリーンショットはスマートフォンで撮影された画像で問題ありません。)

---

### テスターを開始してもすぐに停止してしまいます

テスターを開始してもすぐに停止してしまう場合、エラーの表示がされている可能性があります。以下の手順に従ってエラーの原因を特定し、解決してください。

#### 1. 設定の確認

上記の「MetalifyEAの入力設定を行う」および「複数のチャートを表示する」を参考にストラテジーテスターおよび、エキスパート設定が正しく行われているか確認してください。

> [!CAUTION]
> ストラテジーテスターの設定では以下の項目が正しく設定されていない場合、EAが動作しない場合があります。実行前に再度確認してください。
> 1. **ビジュアルモードがONであること**
> 2. **最適化モードがOFFであること**
> 3. **期間が設定されていること**
>
> データの存在しない期間を指定するとエラーが発生します。直近の期間でバックテストを行うことをおすすめします。

#### 2. イベントログおよび操作履歴の確認

イベントログ、および操作履歴からエラーメッセージを確認してください。

##### 「no history data '通貨ペア名'」というエラーが表示されている場合

操作履歴に以下のようなエラーメッセージが表示されている場合、該当期間のヒストリーデータが存在していない可能性があります。該当の期間のヒストリーファイルが存在するか確認してください。

```
🛑 TestGenerator: no history data 'EURJPY-15' from 2024.05.01 to 2024.06.01
```

> [!TIP]
> 当該エラーが発生した場合、イベントログにも「オフラインチャートの生成に失敗しました。」というエラーが表示されるかと思います。

##### 「Reader handle failed」というエラーが表示されている場合

操作履歴に以下のようなエラーメッセージが表示されている場合、ヒストリーデータの読み込みに失敗している可能性があります。当エラーは原因が多岐に渡り判断が難しいため、お手数ですが[お問い合わせ](/support/contact)ページからご連絡ください。

```
🛑 [Error:87:0] History file read error.
🛑 [Error:123:0] Reader handle failed.
```

> [!TIP]
> 当該エラーが発生した場合、イベントログにも「オフラインチャートの生成に失敗しました。」というエラーが表示されるかと思います。

#### 3. それでも解決しない場合

上記手順を確認しても解決しない場合、お手数ですが[お問い合わせ](/support/contact)ページからご連絡ください。必ず解決いたしますことをお約束できるわけではございませんが、可能な限りのサポートをさせていただきます。

> [!NOTE]
> お問い合わせの際は以下の情報をいただけますと、よりスムーズに対応できます。
> - テスターの設定画面のスクリーンショット
> - エキスパート設定画面のスクリーンショット
> - Metalify操作パネルの上部にあるイベントログ画面
> - テスターの下部にある「操作履歴」タブのスクリーンショット
>
> (スクリーンショットはスマートフォンで撮影された画像で問題ありません。)

---

### よくある質問（テスター設定関連）

#### ストラテジーテスター設定の「期間」の欄が見つかりません

期間の設定項目が見つからない場合、設定項目がテスター下部に隠れている可能性があります。テスター画面を上部に拡張すると表示されます。

#### 「-MTLF」のオフラインチャートが生成されません

「-MTLF」のオフラインチャートが生成されない場合、以下の原因が考えられます。

- 設定画面で同期チャートの設定がtrueになっていない
  - エキスパート設定画面でチャート設定が正しいか確認してください。
- EAが何かしらのエラーで終了している
  - ストラテジーテスターの「操作履歴」タブからエラーメッセージを確認し、エラーが発生している場合はエラーの解決を行ってください。

具体的なトラブルシューティングは上記の「オフラインチャートが生成されません」を参照してください。

それでも解決しない場合、お手数ですが、[お問い合わせ](/support/contact)ページからご連絡ください。

#### オフラインチャートの生成はされるが、期間がバックテストと異なります

オフラインチャートの期間は、生成したオフラインチャートのシンボルと期間のヒストリーデータから生成されます（USDJPY-MTLF,H1であればUSDJPY,H1のヒストリーデータから生成されます）。そのため、該当のヒストリーデータの期間がバックテストの期間と異なる場合、オフラインチャートの期間も異なることがあります。
該当期間のヒストリーデータが不足している場合、「ツール」->「ヒストリーセンター」からヒストリーデータをダウンロードすることで解決する可能性があります。

#### EAがすぐに終了してしまいます

EAがすぐに終了する場合、以下の対応を行ってください。

- EAが何かしらのエラーで終了している
  - ストラテジーテスターの「操作履歴」タブからエラーメッセージを確認し、エラーが発生している場合はエラーの解決を行ってください。
- データが存在しない期間を指定している
  - バックテストの期間がヒストリーデータに存在しない期間を指定している場合、EAがすぐに終了することがあります。バックテストの期間をヒストリーデータに存在する期間に変更してください。
- 設定が間違っている
  - 最適化モードになっている、ビジュアルモードがオフになっている、などの設定が間違っている場合、EAがすぐに終了することがあります。設定を確認し、正しい設定に変更してください。

具体的なトラブルシューティングは上記の「テスターを開始してもすぐに停止してしまいます」を参照してください。

#### ビジュアルモード、期間の設定項目が見つかりません

ビジュアルモード、期間の設定項目が見つからない場合、設定項目がテスターの表示部分に隠れている可能性があります。表示部分をスクロールするか画面拡張してみてください。

#### エラーコード138が発生し注文ができません

エラーコード138は注文時のスリッページが大きすぎることを示しています。EAの設定画面でスリッページの値を大きくすることで解決する可能性があります。

> [!CAUTION]
> 休日にEAを動かしている場合、休日のスプレッドが大きくなることがあります。その場合、ストラテジーテスターの**スプレッドの値を固定値に変更する**ことで解決する可能性があります。
